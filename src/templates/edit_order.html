{% extends "base.html" %}

{% block title %}Edit Order{% endblock %}

{% block content %}
<h1 class="mt-5">Edit Order</h1>
<form method="POST" action="{{ url_for('edit_order', order_id=order.order_id) }}">
    <div class="form-group">
        <label for="order_date">Order Date</label>
        <input type="date" class="form-control" id="order_date" name="order_date" value="{{ order.order_date }}" required>
    </div>
    <div class="form-group">
        <label for="vendor_id">Vendor</label>
        <select class="form-control" id="vendor_id" name="vendor_id" required>
            {% for vendor in vendors %}
                <option value="{{ vendor.vendor_id }}" {% if vendor.vendor_id == order.vendor_id %}selected{% endif %}>{{ vendor.vendor_name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="total_cost">Total Cost</label>
        <input type="number" class="form-control" id="total_cost" name="total_cost" value="{{ order.total_cost }}" required>
    </div>
    <div class="form-group">
        <label for="total_cost_excl_vat">Total Cost Excl. VAT</label>
        <input type="number" step="0.01" class="form-control" id="total_cost_excl_vat" name="total_cost_excl_vat" value="{{ order.total_cost_excl_vat }}" required>
    </div>
    <div class="form-group">
        <label for="order_status_id">Order Status</label>
        <select class="form-control" id="order_status_id" name="order_status_id" required>
            {% for status in order_statuses %}
                <option value="{{ status.order_status_id }}" {% if status.order_status_id == order.order_status_id %}selected{% endif %}>{{ status.order_status }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>
{% endblock %}
